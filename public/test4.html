<!DOCTYPE html>
<html>
<head>
    <title></title>
    <script src="http://maps.googleapis.com/maps/api/js?key=AIzaSyB9JJKEbOztuSVauWEU58UeQJWtuzip2eU&sensor=false"></script>
    <script src="http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markermanager/src/markermanager.js"></script>
    <script>
        var map;
        var marker;
        function initialize(){
            var map_property = {
                center: new google.maps.LatLng(51.508742,-0.120850),
                zoom: 5,
                mapTypeId: google.maps.MapTypeId.ROADMAP
            };
            map = new google.maps.Map(document.getElementById('map-canvas'),map_property);
           marker = new google.maps.Marker({
               position:new google.maps.LatLng(51.508742,-0.120850),
               map:map,
               draggable:true,
               title:"drag me!"
           });
        }
        google.maps.event.addDomListener(window, 'load', initialize);
    </script>
    <script>
        var x=document.getElementById("demo");
        function getLocation()
        {
            if (navigator.geolocation)
            {
                navigator.geolocation.getCurrentPosition(showPosition,showError);
            }
            else{x.innerHTML="Geolocation is not supported by this browser.";}
        }

        function showPosition(position)
        {
            var latlon=position.coords.latitude+","+position.coords.longitude;

            var img_url="http://maps.googleapis.com/maps/api/staticmap?center="
                    +latlon+"&zoom=14&size=758x400&sensor=false";
            document.getElementById("map-canvas").innerHTML="<img src='"+img_url+"'>";
        }

        function showError(error)
        {
            switch(error.code)
            {
                case error.PERMISSION_DENIED:
                    x.innerHTML="User denied the request for Geolocation."
                    break;
                case error.POSITION_UNAVAILABLE:
                    x.innerHTML="Location information is unavailable."
                    break;
                case error.TIMEOUT:
                    x.innerHTML="The request to get user location timed out."
                    break;
                case error.UNKNOWN_ERROR:
                    x.innerHTML="An unknown error occurred."
                    break;
            }
        }

    </script>
</head>
<body>
</div>
<div id="map-canvas" style="width:500px;height:380px;"></div>
<p id="demo">Click the button to get your coordinates:</p>
<button onclick="getLocation()">Try It</button>
</body>
</body>
</html>