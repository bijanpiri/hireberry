<!DOCTYPE html>
<html>
<head>
    <meta charset=utf-8 />
    <title>New Board</title>

    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no' />
    <script src='//api.tiles.mapbox.com/mapbox.js/v1.5.2/mapbox.js'></script>
    <link href='//api.tiles.mapbox.com/mapbox.js/v1.5.2/mapbox.css' rel='stylesheet' />

    <style>
        body { margin:0; padding:0; }
        #map { top:0; bottom:0; width:30%; height: 500px;}
    </style>
</head>
<body>
<div>Creating New Board</div>
<div id='map'></div>
<script>
    var map = L.mapbox.map('map', 'coybit.gj1c3kom')
            .setView([40, -74.50], 9);
    map.on('click', function(e) {
        //window[e.type].innerHTML = e.containerPoint.toString() + ', ' + e.latlng.toString();
/*
        var marker = L.marker(e.latlng, {
            icon: L.mapbox.marker.icon({'marker-color': 'CC0033'}),
            draggable: true
        }).addTo(map);
*/
        L.mapbox.markerLayer({
            // this feature is in the GeoJSON format: see geojson.org
            // for the full specification
            type: 'Feature',
            geometry: {
                type: 'Point',
                // coordinates here are in longitude, latitude order because
                // x, y is the standard for GeoJSON and many formats
                coordinates: [e.latlng.lat, e.latlng.lng]
            },
            properties: {
                title: 'A Single Marker',
                description: 'Just one of me',
                // one can customize markers by adding simplestyle properties
                // http://mapbox.com/developers/simplestyle/
                'marker-size': 'large',
                'marker-color': '#f0a'
            }
        }).addTo(map);
    });
</script>

<form method="post" action="/board/new">
    <button type="submit" value="Create">Create</button>
</form>
</body>
</html>